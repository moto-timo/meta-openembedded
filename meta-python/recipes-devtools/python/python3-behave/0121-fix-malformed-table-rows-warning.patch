From 3e4414212b0123153654880bff1543245292a044 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Pablo=20Dom=C3=ADnguez?=
 <pablo.dominguezsantana@telefonica.com>
Date: Thu, 9 Sep 2021 12:19:21 +0200
Subject: [PATCH] fix: malformed table rows warning

---
 behave/parser.py | 5 +++++
 1 file changed, 5 insertions(+)

diff --git a/behave/parser.py b/behave/parser.py
index 58c68be..b71adfe 100644
--- a/behave/parser.py
+++ b/behave/parser.py
@@ -41,6 +41,7 @@ Keyword aliases:
 # pylint: enable=line-too-long
 
 from __future__ import absolute_import, with_statement
+import logging
 import re
 import sys
 import six
@@ -644,6 +645,10 @@ class Parser(object):
             self.state = "steps"
             return self.action_steps(line)
 
+        if not re.match(r"^(|.+)\|$", line):
+            logger = logging.getLogger("behave")
+            logger.warning(u"Malformed table row at %s: line %i", self.feature.filename, self.line)
+
         # -- SUPPORT: Escaped-pipe(s) in Gherkin cell values.
         #    Search for pipe(s) that are not preceeded with an escape char.
         cells = [cell.replace("\\|", "|").strip()
