From bf48e3c9c5b7a383a65d0be75beb1202c777dbce Mon Sep 17 00:00:00 2001
From: jenisys <jenisys@users.noreply.github.com>
Date: Sun, 22 Sep 2019 18:08:22 +0200
Subject: [PATCH] FIX issue #772: ScenarioOutline.Examples without table.

---
 behave/model.py                  |  8 +++++++-
 issue.features/issue0772.feature | 31 +++++++++++++++++++++++++++++++
 2 files changed, 38 insertions(+), 1 deletion(-)
 create mode 100644 issue.features/issue0772.feature

diff --git a/behave/model.py b/behave/model.py
index 69f38ab..f46d2c2 100644
--- a/behave/model.py
+++ b/behave/model.py
@@ -10,7 +10,7 @@ This module provides the model element class that represent a behave model:
 * ...
 """
 
-from __future__ import absolute_import, with_statement
+from __future__ import absolute_import, with_statement, print_function
 import copy
 import difflib
 import logging
@@ -1355,6 +1355,12 @@ class ScenarioOutlineBuilder(object):
             example.index = example_index+1
             params["examples.name"] = example.name
             params["examples.index"] = _text(example.index)
+            if not example.table:
+                # -- SYNDROME: Examples keyword without table
+                print("ERROR: ScenarioOutline.Examples: Has NO-TABLE syndrome ({0})"\
+                      .format(example.location))
+                continue
+
             for row_index, row in enumerate(example.table):
                 row.index = row_index+1
                 row.id = "%d.%d" % (example.index, row.index)
diff --git a/issue.features/issue0772.feature b/issue.features/issue0772.feature
new file mode 100644
index 0000000..eba0ea5
--- /dev/null
+++ b/issue.features/issue0772.feature
@@ -0,0 +1,31 @@
+@issue
+Feature: Issue #772 -- Syndrome: ScenarioOutline with Examples keyword w/o Table
+
+
+
+  Background: Setup
+    Given a new working directory
+    And a file named "features/syndrome_772.feature" with:
+      """
+      Feature: Examples without table
+
+        Scenario Outline:
+          Given a step passes
+          When another step passes
+
+          Examples: Without table
+      """
+    And a file named "features/steps/use_step_library.py" with:
+      """
+      # -- REUSE STEPS:
+      import behave4cmd0.passing_steps
+      """
+
+  Scenario: Use ScenarioOutline with Examples keyword without table
+    When I run "behave -f plain features/syndrome_772.feature"
+    Then it should pass with:
+      """
+      Feature: Examples without table
+      ERROR: ScenarioOutline.Examples: Has NO-TABLE syndrome (features/syndrome_772.feature:7)
+      """
+    And the command output should not contain "Parser failure in state"
