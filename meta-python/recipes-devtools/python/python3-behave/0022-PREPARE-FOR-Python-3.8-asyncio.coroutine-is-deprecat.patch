From cb1048d0f31a61119d97c256a4a051fc10fcc04e Mon Sep 17 00:00:00 2001
From: jenisys <jenisys@users.noreply.github.com>
Date: Sun, 9 Jun 2019 13:58:22 +0200
Subject: [PATCH] PREPARE FOR: Python 3.8, @asyncio.coroutine is deprecated
 since py38.

---
 tests/api/_test_async_step34.py | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

diff --git a/tests/api/_test_async_step34.py b/tests/api/_test_async_step34.py
index 8242be7..1c0c31f 100644
--- a/tests/api/_test_async_step34.py
+++ b/tests/api/_test_async_step34.py
@@ -37,13 +37,16 @@ from .testing_support_async import AsyncStepTheory
 # -----------------------------------------------------------------------------
 # TEST MARKERS:
 # -----------------------------------------------------------------------------
+# DEPRECATED: @asyncio.coroutine decorator (since: Python >= 3.8)
 _python_version = float("%s.%s" % sys.version_info[:2])
-py34_or_newer = pytest.mark.skipif(_python_version < 3.4, reason="Needs Python >= 3.4")
+requires_py34_to_py37 = pytest.mark.skipif(not (3.4 <= _python_version < 3.8),
+    reason="Supported only for python.versions: 3.4 .. 3.7 (inclusive)")
+
 
 # -----------------------------------------------------------------------------
 # TESTSUITE:
 # -----------------------------------------------------------------------------
-@py34_or_newer
+@requires_py34_to_py37
 class TestAsyncStepDecoratorPy34(object):
 
     def test_step_decorator_async_run_until_complete2(self):
@@ -128,7 +131,7 @@ class TestAsyncContext(object):
         assert async_context.loop is loop0
 
 
-@py34_or_newer
+@requires_py34_to_py37
 class TestAsyncStepRunPy34(object):
     """Ensure that execution of async-steps works as expected."""
 
